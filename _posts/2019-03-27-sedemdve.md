# 72 от сутрин до вечер

Напоследък чета доста [Edward Tufte](https://www.edwardtufte.com/tufte/) в опити да си увелича data viz скиловете. Идеята е, че освен красиви, графиките трябва да са и полезни! За упражнение, ще се опитаме да подобрим визуализацията на графика на автобус 72 като покажем повече информация, с повече контекст.

## Основите
Отваряме си сайта на [sofiatraffic](https://www.sofiatraffic.bg/bg/transport/schedules), цъкаме си 72 и попадаме на нещо такова:


[![72](/images/sofiatraffic.webp)](/images/sofiatraffic.webp)

Супер табличка, но ъъх, спира ли на Оборище? А кога ще стигне дотам? След колко спирки? Айде по менютата…

[![72](/images/sofiatraffic-menu.webp)](/images/sofiatraffic-menu.webp)

## Редизайн
Почваме простичко: взимаме автобуса от 5:00 и за всяка спирка показваме кога ще стигнем до нея:

[![72](/images/72-1.webp)](/images/72-1.webp)


Стана супер! Еми хайде за всички маршрути:

[![72](/images/72-2.webp)](/images/72-2.webp)

С новия дизайн:

1. Виждаме всички спирки
2. Виждаме целия ден
3. За всяка спирка, можем да разберем кога ще дойде 72
4. Като си харесаме даден час, можем да проследим кога ще стигнем до определена спирка
На макро ниво, от пръв поглед виждаме как рано сутрин и късно вечер има по-малко автобуси и е по-важно да сме точни. Това си го виждахме и от табличката, но с този дизайн можем да го сравним “на око”.
Друг интересен детайл (личащ си от успоредността на линиите) е, че 72 е имунизиран от задръстване. То и това си го знаехме де.

## За гараж
За някои линии, табличката учтиво ни съобщава:

> “Забележка: непълните курсове са отбелязани в червено/оранжево”

Супер, ама колко е непълен курса? С алтернативния дизайн, вместо да го кажем, можем да го по-кажем, което очевидно е по-добро!

[![72](/images/72-3.webp)](/images/72-3.webp)
<div style="figcaption">Последните 3 маршрута са по-къси и веднага разбираме докъде може да се возим.</div>


## Подобрения за приложения
Ако решим да използваме подобен дизайн на графика и да го залепим по спирките, би било удобно да подчертаем текущата спирка:

[![72](/images/72-4.webp)](/images/72-4.webp)

Ако ли пък разполагаме с някакъв дисплей/табло/мобилно приложение можем да добавим и сигнал за текущия час:

[![72](/images/72-5.webp)](/images/72-5.webp)


## От София до Манхатън
Предложеният дизайн има един голям пропуск: създава някакво чувство за равни разстояния между спирките, което може би леко се разминава с реалността. Ако добавим информацията за разстоянието, можем да разберем колко далече са спирките една от друга (дали пък не е добра идея да добавим една междинка?) или пък в кои участъци 72 развива дива скорост. Използваме Manhattan distance, защото има малко повече логика от Еuclidean.

[![72](/images/72-6.webp)](/images/72-6.webp)

В случая спирката от Военна Академия до Орлов Мост изглежда най-дълга. Но 72 не е добър пример, защото… спира навсякъде…

## Края
Като идея ми се струва окей, като изпълнение някой по-опитен би могъл да се справи по-добре, но поне порисувахме :)

Графиките са правени основно със seaborn и matplotlib. Всичката информация е взета от сайта на sofiatraffic.